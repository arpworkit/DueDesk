{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://localhost:4000/api/customers';function App(){const[form,setForm]=useState({name:'',number:'',email:'',amountToPay:'',amountPaid:''});const[entries,setEntries]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const fetchEntries=async()=>{setLoading(true);setError('');try{const res=await fetch(API_URL);if(!res.ok){throw new Error(`HTTP error! status: ${res.status}`);}const data=await res.json();setEntries(data);}catch(err){setError('Failed to fetch customers: '+(err instanceof Error?err.message:'Unknown error'));console.error('Fetch error:',err);}setLoading(false);};useEffect(()=>{fetchEntries();},[]);const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setError('');try{const payload={name:form.name,number:form.number,email:form.email,amountToPay:parseFloat(form.amountToPay)||0,amountPaid:parseFloat(form.amountPaid)||0};const res=await fetch(API_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!res.ok){throw new Error(`HTTP error! status: ${res.status}`);}setForm({name:'',number:'',email:'',amountToPay:'',amountPaid:''});fetchEntries();}catch(err){setError('Failed to save customer: '+(err instanceof Error?err.message:'Unknown error'));console.error('Submit error:',err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Duedesk Dashboard\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",style:{color:'red',margin:'10px 0'},children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"entry-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:form.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"number\",placeholder:\"Number\",value:form.number,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:form.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amountToPay\",placeholder:\"Amount to Pay\",value:form.amountToPay,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amountPaid\",placeholder:\"Amount Paid\",value:form.amountPaid,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add/Update Entry\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount to Pay\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount Paid\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pending Amount\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:entries.map((entry,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:entry.name}),/*#__PURE__*/_jsx(\"td\",{children:entry.number}),/*#__PURE__*/_jsx(\"td\",{children:entry.email}),/*#__PURE__*/_jsx(\"td\",{children:entry.amountToPay}),/*#__PURE__*/_jsx(\"td\",{children:entry.amountPaid}),/*#__PURE__*/_jsx(\"td\",{children:entry.amountToPay-entry.amountPaid})]},idx))})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","API_URL","App","form","setForm","name","number","email","amountToPay","amountPaid","entries","setEntries","loading","setLoading","error","setError","fetchEntries","res","fetch","ok","Error","status","data","json","err","message","console","handleChange","e","target","value","handleSubmit","preventDefault","payload","parseFloat","method","headers","body","JSON","stringify","className","children","style","color","margin","onSubmit","type","placeholder","onChange","required","map","entry","idx"],"sources":["E:/GenAI/Userstory/duedesk-dashboard/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\ninterface Entry {\n  name: string;\n  number: string;\n  email: string;\n  amountToPay: number;\n  amountPaid: number;\n}\n\nconst API_URL = 'http://localhost:4000/api/customers';\n\nfunction App() {\n  const [form, setForm] = useState({\n    name: '',\n    number: '',\n    email: '',\n    amountToPay: '',\n    amountPaid: '',\n  });\n  const [entries, setEntries] = useState<Entry[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string>('');\n\n  const fetchEntries = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const res = await fetch(API_URL);\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      }\n      const data = await res.json();\n      setEntries(data);\n    } catch (err) {\n      setError('Failed to fetch customers: ' + (err instanceof Error ? err.message : 'Unknown error'));\n      console.error('Fetch error:', err);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchEntries();\n  }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    try {\n      const payload = {\n        name: form.name,\n        number: form.number,\n        email: form.email,\n        amountToPay: parseFloat(form.amountToPay) || 0,\n        amountPaid: parseFloat(form.amountPaid) || 0,\n      };\n      const res = await fetch(API_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      }\n      setForm({ name: '', number: '', email: '', amountToPay: '', amountPaid: '' });\n      fetchEntries();\n    } catch (err) {\n      setError('Failed to save customer: ' + (err instanceof Error ? err.message : 'Unknown error'));\n      console.error('Submit error:', err);\n    }\n  };\n\n  return (\n    <div className=\"dashboard-container\">\n      <h1>Duedesk Dashboard</h1>\n      {error && <div className=\"error-message\" style={{color: 'red', margin: '10px 0'}}>{error}</div>}\n      <form className=\"entry-form\" onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Name\"\n          value={form.name}\n          onChange={handleChange}\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"number\"\n          placeholder=\"Number\"\n          value={form.number}\n          onChange={handleChange}\n          required\n        />\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={form.email}\n          onChange={handleChange}\n          required\n        />\n        <input\n          type=\"number\"\n          name=\"amountToPay\"\n          placeholder=\"Amount to Pay\"\n          value={form.amountToPay}\n          onChange={handleChange}\n          required\n        />\n        <input\n          type=\"number\"\n          name=\"amountPaid\"\n          placeholder=\"Amount Paid\"\n          value={form.amountPaid}\n          onChange={handleChange}\n          required\n        />\n        <button type=\"submit\">Add/Update Entry</button>\n      </form>\n      <div className=\"table-container\">\n        {loading ? (\n          <p>Loading...</p>\n        ) : (\n          <table>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Number</th>\n                <th>Email</th>\n                <th>Amount to Pay</th>\n                <th>Amount Paid</th>\n                <th>Pending Amount</th>\n              </tr>\n            </thead>\n            <tbody>\n              {entries.map((entry, idx) => (\n                <tr key={idx}>\n                  <td>{entry.name}</td>\n                  <td>{entry.number}</td>\n                  <td>{entry.email}</td>\n                  <td>{entry.amountToPay}</td>\n                  <td>{entry.amountPaid}</td>\n                  <td>{entry.amountToPay - entry.amountPaid}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}